package main

import (
	"encoding/hex"
	"fmt"
	"strings"
	"testing"
)

func Test_parser(t *testing.T) {

	test_hex := "0x04e45aaf000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec70000000000000000000000007e2ac793f3e692f388e66c7dc28f739d13b0b71a0000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000080f816ae67a0fdece85c918c653fa0e9d50de0fc0000000000000000000000000000000000000000000000000000000013b3183d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
	b, err := hex.DecodeString(strings.TrimPrefix(test_hex, "0x"))
	id := fmt.Sprintf("%x", b[:4])
	if id != "04e45aaf" {
		t.Errorf("id wrong")
	}
	var c Cache
	err = c.LoadCache()
	if err != nil {
		t.Errorf("ERROR LOADING CACHE %s", err)
	}

}
